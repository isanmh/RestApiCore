Cara install webapi :
- dotnet new webapi -o NamaProject

dotnet new webapi --use-controllers -o TodoApi
cd TodoApi
dotnet add package Microsoft.EntityFrameworkCore.InMemory
code -r .


- cd NamaProject

jalankan :
- dotnet watch run

http://localhost:5101/weatherforecast

// instalasi service controller
builder.Services.AddControllers();

// controllers
app.MapControllers();

install package :
- dotnet add package Microsoft.EntityFrameworkCore.SqlServer
- dotnet add package Microsoft.EntityFrameworkCore.Tools
- dotnet add package Microsoft.EntityFrameworkCore.Design

buat koneksi di Program.cs
using Microsoft.EntityFrameworkCore;
using RestApi.Models;
// koneksi database
builder.Services.AddDbContext<AppDbContext>(options =>
    options.UseSqlServer(builder.Configuration.GetConnectionString("SqlConnection")));

- Migrasi database :
- dotnet tool install --global dotnet-ef
- dotnet ef migrations add InitialCreate
- dotnet ef database update

### DTO (Data Transfer Object) ###
- alur penggunaan DTO :
- buat folder DTO
- buat class DTO di folder DTO
- di controller panggil DTO
- mapping dari entity ke DTO (manual / automapper)
- return DTO di controller
- contoh mapping manual di controller :
var productDtos = products.Select(p => new ProductDto
{
    Id = p.Id,
    Name = p.Name,
    Price = p.Price
}).ToList();

var products = await _db.Products
                .Select(p => ProductMapper.ToProductDto(p))
                .ToListAsync();

### Alur MVC Web API ###
- Model > DTO > Mapper > Controller 

### Repository Pattern & DI (Dependency Injection) ###
- Model > DTO > Mapper > Interfaces/services > Repository > Controller

- di Program.cs tambahkan service repository
builder.Services.AddScoped<ICategoryRepo, CategoryRepo>();
